<!DOCTYPE html>
<html lang="">
  <head>
    <base href="/">
    <meta charset="utf-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta id="viewport" name="viewport" content="initial-scale=1.0, maximum-scale=1.0" user-scalable="yes">
    <!-- <meta property="og:title" content="test"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="http://rootree.net"/>
    <meta property="og:description" content="This is a description."/>
    <meta property="og:image" content="http://img.jpg"/> -->
    <meta property="og:locale" content="ko_KR">
    <meta property="og:title" content="하이브릭, 구독형 알림">
    <meta property="og:description" content="나한테 꼭 필요한 알림만 선택해서 구독!
    보기 좋게 잘 정리된 알림목록">
    <meta property="og:type" content="website">
    <meta property="og:image" content="http3://mo.d-alim.com/commonAssets/kakaoShareIcon.png">
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="627" />
    <meta property="og:site_name" content="DAlim - 하이브릭, 구독형 알림">

    <!-- <meta name="appleid-signin-client-id" content="com.pushmsg.project"> -->
    <meta name="appleid-signin-client-id" content="project.pushmsg.com">
    <meta name="appleid-signin-scope" content="name email">
    <meta name="appleid-signin-redirect-uri" content="https://mo.d-alim.com">
    <meta name="appleid-signin-state" content="signin">
    <meta name="appleid-signin-use-popup" content="true">
    <meta name="google-site-verification" content="i8Q6jb6KncZpNu34qjS7Fn3cQtgvYMx2yyD3KBkvT7k" />
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title><%= htmlWebpackPlugin.options.title %></title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link rel="manifest" href="<%= BASE_URL %>manifest.json" crossorigin="use-credentials">
  </head>
  <body><!--
    <script src="//developers.kakao.com/sdk/js/kakao.min.js"></script> -->
    <!-- <script
    <script type="text/javascript" src="http://localhost:8080/HB_sso.js">	</script>script src="https://unpkg.com/vue/dist/vue.js"></script> -->

    <script type="text/javascript" src="http://localhost:8080/commonAssets/HB_sso.js">	</script>
    <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
    <script src="//code.jquery.com/jquery-latest.min.js"></script>
    <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=240cfa446dad87c4a9505c5e2d581745"></script>
    <script src="https://unpkg.com/vue-i18n@8"></script>
    <script src="https://unpkg.com/vue"></script>
    <script type="text/javascript" src="https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js"></script>
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-base64@3.6.1/base64.min.js"></script>
    <script src="https://cdn.jsdelivr.net/clipboard.js/1.5.3/clipboard.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.10/dist/clipboard.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
    <script src="https://unpkg.com/vue-long-click@0.0.4/dist/libs/vue-long-click.umd.min.js"></script>
<!-- 
    <script src="https://unpkg.com/vue-easy-lightbox@next/dist/vue-easy-lightbox.umd.min.js"></script> -->
    <!-- naver -->
    <script type="text/javascript" src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.0.js" charset="utf-8"></script>
    <script type="text/javascript" src="https://static.nid.naver.com/js/naverLogin_implicit-1.0.3.js" charset="utf-8"></script>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.4.3/firebase-app.js"></script>
    <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.4.3/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.4.3/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.4.3/firebase-auth.js"></script>
    <!-- <script type="text/javascript" src="https://www.gstatic.com/firebasejs/5.9.1/firebase-auth.js"></script> -->
    <script src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.2-nopolyfill.js" charset="utf-8"></script>
    <!-- // naver -->

    <!-- google -->
    <script src="https://apis.google.com/js/platform.js" async defer></script>

    <script src="https://www.gstatic.com/firebasejs/8.4.3/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.4.3/firebase-messaging.js"></script>
    <!-- jQuery -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.4.min.js" ></script>
    <!-- iamport.payment.js -->
    
    <!-- <script type="text/javascript" src="http://192.168.0.78:8080/commonAssets/HB_sso.js">	</script> -->
    <script type="text/javascript" src="https://cdn.iamport.kr/js/iamport.payment-1.1.8.js"></script>
    <script>
      document.addEventListener('AppleIDSignInOnSuccess', (data) => {
          //handle successful response
          console.log(data)

      });
      //Listen for authorization failures
      document.addEventListener('AppleIDSignInOnFailure', (error) => {
          //handle error.
          console.log(error)
      });
      
      var isMobile = /Mobi/i.test(window.navigator.userAgent)
      if(!isMobile) {
         if (!("Notification" in window)) {
            console.log("데스크톱 알림을 지원하지 않는 브라우저입니다.");
        }
        var urlString = location.search
        
        if (location.search && location.search.trim() !== '') {
            const params = new URLSearchParams(urlString)
            console.log(params)
            var queList = []
            var chanYn = false
            for (const param of params) {
                if (param[0] === 'chanDetail') {
                    console.log('targetKind: ' + param[0])
                    console.log('targetKey: ' + param[1])
                    queList.push({ targetType: param[0], targetKey: param[1] })
                    localStorage.setItem('deepLinkQueue', JSON.stringify(queList[0]) )
                    chanYn = true
                    break
                }
            }
            if (!chanYn) {
                const splited = urlString.replace('?', '').split(/[=?&]/)
                const param = {}
                for (let i = 0; i < splited.length; i++) {
                  param[splited[i]] = splited[++i]
                }
                
                // for (let i = 0; i < splited.length; i++) {
                //     param[splited[i]] = splited[++i]
                // }
                localStorage.setItem('deepLinkQueue', JSON.stringify(param) )
                
            }
            
            
            
        }
        // 데스크탑 알림 권한 요청
        Notification.requestPermission(function (result) {
            // 권한 거절
            if(result == 'denied') {
                Notification.requestPermission();
                console.log('알림을 차단하셨습니다.\n브라우저의 사이트 설정에서 변경하실 수 있습니다.');
                return false;
            }
            else if (result == 'granted'){
                console.log('알림을 허용하셨습니다.');
                
            }
        });
      }
      
      

    </script>
    <!-- // google -->
    <noscript>
      <strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div id="app" ></div>
    <!-- built files will be auto injected -->
  </body>
</html>
