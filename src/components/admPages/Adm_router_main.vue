<template>
  <div id="routerRef" class="w-100P h-100P mainBackgroundColor listRefresh" style="overflow:hidden"  >
  <div v-if="popUpShow" class="backDark"></div>
  <gAdmPopWrap v-if="popUpShow" :pPropParams="propParams" :pClosePop="closePop"/>
  <gAdmPageWrap v-if="pageShow" @changeBranch="changeBranch" @openPop="openPop" :pPropParams="propParams" :pPageData="pageData" :pClosePage="closePage"/>
  <commonHeader />
  <router-view style="padding:60px 20px 0;" @openPage="openPage" @openPop="openPop" :pSelectedApp="mSelectedApp" :pMyAppList="myAppList"></router-view>
  <commonFooter v-if="footer" />
  </div>
</template>

<script>
import commonHeader from '@/components/admPages/commonCompo/Adm_commonHeader.vue'
import commonFooter from '@/components/admPages/commonCompo/Adm_commonFooter.vue'
export default {
  components: {
    commonHeader,
    commonFooter
  },
  data () {
    return {
      popUpShow: false,
      pageShow: false,
      pageData: {},
      myBranches: [],
      myApps: {},
      propParams: {},
      myAppList: [],
      defaultAppList: [
        { appKey: 0, title: 'ë”ì•Œë¦¼', branch: [{ name: 'ìƒˆì›€ì†Œí”„íŠ¸ ê³µì‹', code: 'ABC10', type: 'ğŸ¢íšŒì‚¬', allCount: 80, manage: [{ name: 'ì¼ë°˜', count: 50 }, { name: 'ë§¤ë‹ˆì €', count: 25 }, { name: 'ê´€ë¦¬ì', count: 5 }], user: [{ name: 'ê¹€ë³´ë¦¬', tel: '010-0104-0104', mail: 'bori11004@cute.cute', manage: 'ë§¤ë‹ˆì €' }, { name: 'í™©ì„¤íƒ•', tel: '010-1101-1101', mail: 'sugar@cute.cute', manage: 'ê´€ë¦¬ì' }] }, { name: 'ìœ ë‹ˆë²„ì§€ ê³µì‹', code: 'ABC10', type: 'ğŸ«í•™êµ', allCount: 130 }] },
        { appKey: 1, title: 'ì•„íŒŒíŠ¸123', type: 'ì•„íŒŒíŠ¸', allCount: '132', branch: [{ name: 'ê°œë‚˜ë¦¬ ì•„íŒŒíŠ¸', code: 'ABC10' }] },
        { appKey: 2, title: 'ì»´í¼ë‹ˆí†¡', branch: [{ name: 'ìƒˆì›€ì†Œí”„íŠ¸', code: 'ABC10' }, { name: 'í—Œì›€ì†Œí”„íŠ¸', code: 'ABC10' }, { name: 'ì¤‘ê°„ì›€ì†Œí”„íŠ¸', code: 'ABC10' }] }
      ]
    }
  },
  created () {
    this.setMyApps()
  },
  methods: {
    setMyApps () {
      this.myAppList = this.defaultAppList
    },
    openPop (params) {
      if (params) {
        this.propParams = params
      }
      this.popUpShow = true
    },
    closePop () {
      this.popUpShow = false
    },
    openPage (propParams) {
      this.propParams = propParams
      this.pageData = propParams.selBranch
      this.pageShow = true
    },
    closePage () {
      this.pageShow = false
    },
    changeBranch () {
    }
  },
  mounted () {
    this.setMyApps()
  }
}
</script>

<style scoped>

.backDark{
  position:fixed;
  top:0;
  left:0;
  height:100%;
  width:100%;
  background-color:rgba(0,0,0,0.3);
  z-index:2;
}
</style>
